{% extends 'base.html.twig' %}

{% block title %}À propos{% endblock %}

{% block body %}

    <!--About Section-->
    <div class="container-fluid">
        <div id="about" class="row about-section scroll-offset">

            <div class="row justify-content-center">
                <!-- Section: Personal Information Card -->
                <div class="col-md-12 card mx-2 w-50">
                    <div class="card-header text-center">
                        <h2 class="font-weight-light">Informations Personnelles</h2>
                    </div>
                    <div class="card-body text-center">
                        <h3 class="text-tertiary-color mb-4">{{ about.firstname }} {{ about.lastname }}</h3>
                        <div class="row">
                            <!-- Section: Contact Information -->
                            <div class="col-md-4">
                                <div class="card mb-4">
                                    <div class="card-header text-center">
                                        <h4 class="text-tertiary-color font-weight-light">Contact</h4>
                                    </div>
                                    <div class="card-body">
                                        <p><strong>Email :</strong> {{ about.email }}</p>
                                        <p><strong>Téléphone :</strong> {{ about.phone }}</p>
                                        <p><strong>Zoom :</strong> {{ about.zoom }}</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Section: Address Information -->
                            <div class="col-md-4">
                                <div class="card mb-4">
                                    <div class="card-header text-center">
                                        <h4 class="text-tertiary-color font-weight-light">Coordonnées</h4>
                                    </div>
                                    <div class="card-body">
                                        <p><strong>Adresse :</strong> {{ about.address }}</p>
                                        <p><strong>Code postal :</strong> {{ about.postal }}</p>
                                        <p><strong>Ville :</strong> {{ about.city }}</p>
                                        <p><strong>Pays :</strong> {{ about.country|country_name }}</p>
                                    </div>
                                </div>
                            </div>
                            <!-- Section: Birth Information -->
                            <div class="col-md-4">
                                <div class="card mb-4">
                                    <div class="card-header text-center">
                                        <h4 class="text-tertiary-color font-weight-light">Naissance</h4>
                                    </div>
                                    <div class="card-body">
                                        <p><strong>Date de naissance :</strong> {{ about.birthdate|date('d/m/Y') }}</p>
                                        <p><strong>Lieu de naissance :</strong> {{ about.birthplace }}</p>
                                        <p><strong>Pays de naissance :</strong> {{ about.birthcountry|country_name }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ul class="social-icons list-inline mb-4 text-center d-flex justify-content-center" aria-label="Réseaux sociaux">
                            <!-- Social Media Links -->
                            {% for social in about.socialLinks %}
                                <li class="social-item me-3">
                                    <a class="social-link text-light" href="{{ social.href }}" target="_blank">
                                        <img src="{{ social.imgSrc }}" alt="{{ social.imgAlt }}" title="{{ social.imgTitle }}">
                                    </a>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>            
            </div>

            <div class="row justify-content-center">
                <!-- Section: About Card -->
                <div class="col-md-3 card m-4">
                    <div class="card-header text-center">
                        <h2 class="font-weight-light">Qui suis-je ?</h2>
                    </div>
                    <div class="card-body">
                        <h3 class="text-tertiary-color mb-3">{{ about.jobTitle }}</h3>
                        <p>{{ about.aboutMe|raw }}</p>
                        <!-- bouton doit lancer le téléchargement du CV -->
                        <div class="mt-3 text-center">
                            <a id="btn_download_cv" class="btn btn-info" href="images/cv_richardbonnegent.pdf" download="CV-Richard-Bonnegent.pdf">Télécharger mon CV</a>
                        </div>
                    </div>
                </div>

                <!-- Section: Experience Card -->
                <div class="col-md-8 card m-4">
                    <div class="card-header text-center">
                        <h2 class="font-weight-light">Mon Expérience</h2>
                    </div>
                    <div class="card-body">
                        {% for experience in about.experiences %}
                            {% if experience.institution is null %}
                                <h3 class="text-tertiary-color mb-3">{{ experience.title }}</h3>
                                <p>{{ experience.description|raw }}</p>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="row justify-content-center">

                <!-- Section: Skills Card -->
                <div class="col-md-3 card m-4">
                    <div class="card-header text-center">
                        <h4 class="mt-2">Compétences</h4>
                        <span class="line"></span>  
                    </div>
                    <div class="card-body pb-2">
                        {% for skill, data in skills %}
                            <h5 class="fs-6">{{ skill }} ({{ data.level }})</h5>
                            <div class="progress mb-3">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{ data.percentage }}%" aria-valuenow="{{ data.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Section: Frameworks Card -->
                <div class="col-md-3 card m-4">
                    <div class="card-header text-center">
                        <h4 class="mt-2">Frameworks</h4>
                        <span class="line"></span>  
                    </div>
                    <div class="card-body pb-2">
                        {% for framework, data in frameworks %}
                            <h5 class="fs-6">{{ framework }} ({{ data.level }})</h5>
                            <div class="progress mb-3">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{ data.percentage }}%" aria-valuenow="{{ data.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Section: APIs Card -->
                <div class="col-md-2 card m-4">
                    <div class="card-header text-center">
                        <h4 class="mt-2">APIS</h4>
                        <span class="line"></span>  
                    </div>
                    <div class="card-body pb-2">
                        {% for api, data in apis %}
                            <h5 class="fs-6">{{ api }} ({{ data.level }})</h5>
                            <div class="progress mb-3">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{ data.percentage }}%" aria-valuenow="{{ data.percentage }}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Section: Languages Card -->
                <div class="col-md-2 card m-4">
                    <div class="card-header text-center">
                        <h4 class="mt-2">Langues</h4>
                        <span class="line"></span>  
                    </div>
                    <div class="card-body pb-2">
                        {% for language, level in about.languages %}
                            <h5 class="fs-6">{{ language }}</h5>
                            <div class="progress mb-3">
                                <div class="progress-bar bg-danger" role="progressbar" style="width: {{ level }}%" aria-valuenow="{{ level }}" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

        </div>
    </div>

{% endblock %}